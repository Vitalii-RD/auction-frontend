<section *ngIf="!error; else elseBlock">

  <button class="add-btn" (click)="openModal()">
    <i class="fa fa-plus fa-lg"></i>
  </button>
  
  <div class="card-container">
    
    <div class="card" *ngFor="let auction of auctions">
  
      <div class="card-header">
        <p>{{auction.item.title}}</p>
        <div class="card-header__info">
          <span class="status">{{auction.done ? "close" : "open"}}</span>
          <span class="owner">{{auction.item.owner.name}}</span>
        </div>
      </div>
  
      <div class="card-bids">
        <p>Initial bid: <span>{{auction.initialBid | currency}}</span></p>
        <p *ngIf="auction.history.length > 0; else noHistory">
          Current bid: 
          <span>{{auction.history[auction.history.length-1].bid | currency}}</span> from <span>{{auction.history[auction.history.length-1].user.name}}</span>
        </p>
        <ng-template #noHistory>You can be first</ng-template>
      </div>
  
      <div class="card-functions">
        
        <button class="bid">
          <i class="fa fa-gavel"></i>
        </button>
  
        <button class="complete">
          <i class="fa fa-check"></i>
        </button>
        
      </div>
    </div>
  </div>

  <section *ngIf="isModal" class="modal">
    <div class="modal-content">
        <div class="modal-content__header">
            <span class="modal-content__title">Add new auction</span>
            <i class="fa fa-times fa-lg modal-content__close" (click)="closeModal()"></i>
        </div>

        <form class="form__info" [formGroup]="auctionForm" (ngSubmit)="onSubmit()">
            <input type="text" name="title"  formControlName="title" placeholder="Item name" class="form__info-title">
            <input type="number" class="form__info-initial-bid" placeholder="Initial bid">
            <button class="form__send" type="submit">add</button>
        </form>
    </div>
  </section>
</section>

<ng-template #elseBlock>
  <p class="no-list-message" #elseBlock>
      Please select a list.
  </p>
</ng-template>

